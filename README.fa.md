# ابزار Raven - ابزاری یافتن سابدامین ها

ابزار Raven یک برنامه مدرن، سبک و کارآمد برای شناسایی زیر‌دامنه‌هاست که ویژه پژوهشگران امنیت و تست‌کنندگان نفوذ طراحی شده است. این ابزار با زبان Go توسعه داده شده و تجربه‌ای روان و کاربرپسند ارائه می‌دهد. Raven قادر است زیر‌دامنه‌های یک دامنه مشخص را کشف کند و با استفاده از قابلیت‌های پیشرفته، خطاهای رایج (مانند نتایج مثبت کاذب) را کاهش داده و کارایی فرآیند را بهبود بخشد.  

---

## چرا باید از Raven استفاده کنیم؟  

ابزار Raven در مقایسه با روش‌های سنتی شناسایی زیر‌دامنه‌ها مزیت‌های متعددی دارد. این ابزار هیچ سابدامینی را اسکیپ نمیکند و مثل روش های قدیمی نیست و به اندازه وردلیست ورودی ٬ سابدامین میسازد و اونارو احراز هویت خواهد کرد و مثل روش های قدیمی از پرووایدرها استفاده نمیکند.  

### مهم‌ترین مزایا نسبت به روش‌های سنتی  

#### افزایش کارایی با درخواست‌های همزمان  
- استفاده از سیستم چندریسمانی (Thread Pool) با تعداد رشته‌های قابل تنظیم (`پیش‌فرض: 10، حداکثر: 1000`) برای ارسال همزمان درخواست‌های HTTP و کاهش قابل‌توجه زمان اسکن.  
- پشتیبانی از محدودیت نرخ ارسال درخواست‌ها (`--rate-limit`) برای جلوگیری از فشار بیش از حد بر روی سرور هدف.  

#### کاهش خطاهای مثبت کاذب  
- حذف پاسخ‌های تکراری یا پیش‌فرض مانند پاسخ IIS (`<title>IIS Windows Server</title>`).  
- امکان تعریف فیلتر بر اساس کدهای وضعیت HTTP (`--filter-status`) یا محدود کردن نتایج به کدهای مشخص (`--match-code`).  

#### مدیریت پیشرفته لیست کلمات  
- امکان استفاده از لیست‌های سفارشی با `--wordlist`.  
- دانلود خودکار یک لیست پیش‌فرض در صورت عدم ارائه فایل.  
- بررسی و پاک‌سازی خودکار لیست کلمات (مانند حذف خطوط خالی یا ورودی‌های نادرست).  

#### قابلیت‌های پیکربندی گسترده  
- امکان انتخاب متد HTTP (`--method`)، افزودن هدرهای دلخواه (`--header`) و استفاده از پروکسی‌ها (`--proxy`).  
- حالت اعتبارسنجی (`--validation`) برای نمایش سریع کدهای وضعیت.  

#### بروزرسانی و بررسی نسخه  
- دستور `--update` نسخه جدید ابزار را به صورت مستقیم از GitHub دریافت و نصب می‌کند.  

---

## چرا Raven کاراتر است؟  

ابزار Raven برخلاف ابزارهای قدیمی که به صورت ترتیبی و مبتنی بر DNS کار می‌کنند، بر اساس ویژگی‌های زیر طراحی شده است:  
- برسی کامل سابدامین ها با استفاده از وردلیست قدرتمند
- فیلتر کردن هوشمند نتایج  
- مدیریت بهینه لیست کلمات  
- نمایش خروجی ساختاریافته و رنگی  

به همین دلیل Raven در عمل **سریع‌تر، دقیق‌تر و قابل اعتمادتر** عمل می‌کند.  

---

## مراحل کاری ابزار  

### ۱. پردازش ورودی‌ها  
- تحلیل ورودی‌ها با کتابخانه `spf13/pflag`.  
- فلگ `--domain` اجباری است.  
- سایر فلگ‌ها مانند `--wordlist`, `--threads`, `--method` دارای مقادیر پیش‌فرض هستند.  

### ۲. مدیریت لیست کلمات  
- در صورت نبود لیست کلمات، ابزار به‌طور خودکار فایل پیش‌فرض را از این آدرس دریافت می‌کند:  
  `https://raw.githubusercontent.com/Nowafen/Raven/refs/heads/main/wordlist.txt`  
- تمامی ورودی‌های نامعتبر پیش از اجرا حذف می‌شوند.  

### ۳. فرآیند اسکن  
- تولید نام‌های احتمالی زیر‌دامنه بر اساس ترکیب کلمات لیست و دامنه هدف.  
- ارسال همزمان درخواست‌های HTTP با کنترل نرخ.  
- حذف نتایج غیرمرتبط یا اشتباه.  
- بسته به حجم وردلیست ٬ زمان اسکن و بررسی میتواند متغییر باشد .

### ۴. نمایش نتایج  
- به صورت پیش‌فرض: نمایش زیر‌دامنه‌های کشف‌شده.  
- در حالت اعتبارسنجی: نمایش کدهای وضعیت با رنگ‌بندی مشخص.  
- امکان ذخیره خروجی در فایل با استفاده از `--output`.  

---

## نصب ابزار  

### نصب از طریق بیلد کردن سورس 
```bash
git clone https://github.com/Nowafen/Raven.git
cd Raven
go build -o raven ./cmd/raven
````

### نصب مستقیم با Go

```bash
curl -L -o raven https://github.com/Nowafen/Raven/releases/download/v0.1.2/raven
chmod +x raven
```

---

## شیوه استفاده

برای اجرای Raven کافی است دامنه هدف را با فلگ `--domain` مشخص کنید. سایر پارامترها اختیاری هستند:

```bash
raven --domain example.com
```

### فهرست فلگ‌ها

| فلگ               | شورت‌کات | توضیح                                          | مقدار پیش‌فرض              |
| ----------------- | -------- | ---------------------------------------------- | -------------------------- |
| `--domain`        | `-d`     | دامنه هدف (ضروری)                              | —                          |
| `--wordlist`      | `-w`     | مسیر فایل لیست کلمات                           | `/tmp/.raven/wordlist.txt` |
| `--header`        | `-H`     | تعریف هدر سفارشی برای درخواست HTTP             | —                          |
| `--method`        | `-m`     | انتخاب متد HTTP                                | `GET`                      |
| `--output`        | `-o`     | ذخیره نتایج در فایل                            | —                          |
| `--silent`        | —        | اجرای بی‌صدا (بدون نمایش بنر یا روند اجرا)     | `false`                    |
| `--filter-status` | `-f`     | فیلتر کردن کدهای وضعیت                         | —                          |
| `--match-code`    | `-c`     | محدود کردن نتایج به کدهای مشخص                 | —                          |
| `--proxy`         | —        | استفاده از پروکسی                              | —                          |
| `--threads`       | `-t`     | تعداد تردهای همزمان (حداکثر 1000)              | `10`                       |
| `--rate-limit`    | `-r`     | محدود کردن تعداد درخواست در ثانیه              | `100`                      |
| `--validation`    | `-v`     | نمایش کد وضعیت در نتایج                        | `false`                    |
| `--update`        | —        | بروزرسانی به آخرین نسخه                        | —                          |
| `--version`       | —        | نمایش نسخه ابزار                               | —                          |
| `--help`          | `-h`     | نمایش راهنما (کامل با `--help`، خلاصه با `-h`) | —                          |

---

## نمونه دستورات

**اسکن ساده**

```bash
raven -d example.com
```

**اسکن همراه با نمایش کد وضعیت**

```bash
raven -d example.com -v
```

**استفاده از لیست سفارشی و افزایش تعداد تردها**

```bash
raven -d example.com -w wordlist.txt -t 200 -r 500 -v
```

**فیلتر بر اساس کد وضعیت مشخص**

```bash
raven -d example.com -f 404,403
```

**ذخیره نتایج در فایل**

```bash
raven -d example.com -o results.txt
```

**اجرای بی‌صدا**

```bash
raven -d example.com --silent
```

**بروزرسانی ابزار به آخرین نسخه**

```bash
raven --update
```

---

## مشارکت در توسعه

هرگونه پیشنهاد یا بهبود در کدنویسی و مستندات مورد استقبال قرار میگیرد. برای مشارکت به [مخزن GitHub](https://github.com/Nowafen/Raven) مراجعه کنید.

---

## مجوز انتشار

ابزار Raven تحت مجوز **BSD 3-Clause License** ارائه شده است. برای جزئیات به فایل [LICENSE](LICENSE) مراجعه کنید.

